// Generated by CoffeeScript 1.11.1
var changeLayout, chapter, exercise, fillSelect, myCodeMirror, resizeTimer, run, runAll, sel1, sel1change, sel2, sel2change, setup, table, tableAppend, tableClear;

myCodeMirror = 0;

sel1 = 0;

sel2 = 0;

table = 0;

chapter = "";

exercise = "";

fillSelect = function(sel, dict) {
  var key, results;
  sel.empty();
  results = [];
  for (key in dict) {
    results.push(sel.append($("<option>").attr('value', key).text(key)));
  }
  return results;
};

sel1change = function(sel) {
  chapter = sel.value;
  exercise = "";
  return fillSelect(sel2, data[chapter]);
};

sel2change = function(sel) {
  var b;
  exercise = sel.value;
  b = data[chapter][exercise]["b"];
  myCodeMirror.setValue(b);
  runAll();
  return myCodeMirror.focus();
};

tableClear = function() {
  return $("#tabell tr").remove();
};

tableAppend = function(call, expected, actual) {
  var cell1, cell2, cell3, row;
  row = tabell.insertRow(-1);
  cell1 = row.insertCell(-1);
  cell2 = row.insertCell(-1);
  cell3 = row.insertCell(-1);
  cell1.innerHTML = call;
  cell2.innerHTML = JSON.stringify(expected);
  cell3.innerHTML = actual === void 0 ? "error" : JSON.stringify(actual);
  try {
    chai.assert.deepEqual(expected, actual);
    return row.style.backgroundColor = '#00FF00';
  } catch (error) {
    return row.style.backgroundColor = '#FF0000';
  }
};

changeLayout = function() {
  var w;
  w = $(window).width();
  return $(".CodeMirror").width(w - 215);
};

resizeTimer = 0;

$(window).resize(function() {
  clearTimeout(resizeTimer);
  return resizeTimer = setTimeout(changeLayout, 10);
});

setup = function() {
  sel1 = $('#sel1');
  sel2 = $('#sel2');
  table = $('#tabell');
  return fillSelect(sel1, data);
};

window.onload = function() {
  var help, ta;
  ta = document.getElementById("code");
  myCodeMirror = CodeMirror.fromTextArea(ta, {
    lineNumbers: true,
    mode: "coffeescript",
    keyMap: "sublime",
    theme: "dracula",
    autoCloseBrackets: true,
    lineWiseCopyCut: true,
    tabSize: 2,
    indentWithTabs: true
  });
  $(".CodeMirror").css('font-size', "16pt");
  myCodeMirror.on("change", runAll);
  help = createA('https://github.com/ChristerNilsson/p5Assert/blob/master/README.md', 'help', '_blank');
  help.position(10, 430);
  chapter = 'Assert1';
  sel1.val(chapter).change();
  exercise = 'Operator1';
  sel2.val(exercise).change();
  myCodeMirror.focus();
  window.resizeTo(1000, 750);
  return changeLayout();
};

runAll = function() {
  var b, call, dict, expectedResult, msg, results;
  b = myCodeMirror.getValue();
  data[chapter][exercise]["b"] = b;
  tableClear();
  dict = data[chapter][exercise]["c"];
  results = [];
  for (call in dict) {
    expectedResult = dict[call];
    msg = run("result = " + transpile(b + "\nreturn " + call));
    results.push(tableAppend(call, expectedResult, msg === "" ? result : msg.split('\n')[0]));
  }
  return results;
};

run = function(code) {
  var err;
  try {
    eval(code);
    return "";
  } catch (error) {
    err = error;
    return err.stack;
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicDVBc3NlcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJwNUFzc2VydC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUE7O0FBQUEsWUFBQSxHQUFlOztBQUNmLElBQUEsR0FBTzs7QUFDUCxJQUFBLEdBQU87O0FBQ1AsS0FBQSxHQUFROztBQUNSLE9BQUEsR0FBVTs7QUFDVixRQUFBLEdBQVc7O0FBRVgsVUFBQSxHQUFhLFNBQUMsR0FBRCxFQUFNLElBQU47QUFDWCxNQUFBO0VBQUEsR0FBRyxDQUFDLEtBQUosQ0FBQTtBQUNBO09BQUEsV0FBQTtpQkFDRSxHQUFHLENBQUMsTUFBSixDQUFXLENBQUEsQ0FBRSxVQUFGLENBQWEsQ0FBQyxJQUFkLENBQW1CLE9BQW5CLEVBQTRCLEdBQTVCLENBQWdDLENBQUMsSUFBakMsQ0FBc0MsR0FBdEMsQ0FBWDtBQURGOztBQUZXOztBQUtiLFVBQUEsR0FBYSxTQUFDLEdBQUQ7RUFDWCxPQUFBLEdBQVUsR0FBRyxDQUFDO0VBQ2QsUUFBQSxHQUFXO1NBQ1gsVUFBQSxDQUFXLElBQVgsRUFBaUIsSUFBSyxDQUFBLE9BQUEsQ0FBdEI7QUFIVzs7QUFLYixVQUFBLEdBQWEsU0FBQyxHQUFEO0FBQ1gsTUFBQTtFQUFBLFFBQUEsR0FBVyxHQUFHLENBQUM7RUFDZixDQUFBLEdBQUksSUFBSyxDQUFBLE9BQUEsQ0FBUyxDQUFBLFFBQUEsQ0FBVSxDQUFBLEdBQUE7RUFDNUIsWUFBWSxDQUFDLFFBQWIsQ0FBc0IsQ0FBdEI7RUFDQSxNQUFBLENBQUE7U0FDQSxZQUFZLENBQUMsS0FBYixDQUFBO0FBTFc7O0FBT2IsVUFBQSxHQUFhLFNBQUE7U0FDWCxDQUFBLENBQUUsWUFBRixDQUFlLENBQUMsTUFBaEIsQ0FBQTtBQURXOztBQUdiLFdBQUEsR0FBYyxTQUFDLElBQUQsRUFBTyxRQUFQLEVBQWlCLE1BQWpCO0FBQ1osTUFBQTtFQUFBLEdBQUEsR0FBTSxNQUFNLENBQUMsU0FBUCxDQUFpQixD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T0FBQSxDQUFTLENBQUEsUUFBQSxDQUFVLENBQUEsR0FBQTtBQUMvQjtPQUFBLFlBQUE7O0lBQ0UsR0FBQSxHQUFNLEdBQUEsQ0FBSSxXQUFBLEdBQWMsU0FBQSxDQUFVLENBQUEsR0FBSSxXQUFKLEdBQWtCLElBQTVCLENBQWxCO2lCQUNOLFdBQUEsQ0FBWSxJQUFaLEVBQWtCLGNBQWxCLEVBQXFDLEdBQUEsS0FBTyxFQUFWLEdBQWtCLE1BQWxCLEdBQThCLEdBQUcsQ0FBQyxLQUFKLENBQVUsSUFBVixDQUFnQixDQUFBLENBQUEsQ0FBaEY7QUFGRjs7QUFMTzs7QUFTVCxHQUFBLEdBQU0sU0FBQyxJQUFEO0FBQ0osTUFBQTtBQUFBO0lBQ0UsSUFBQSxDQUFLLElBQUw7QUFDQSxXQUFPLEdBRlQ7R0FBQSxhQUFBO0lBR007V0FDSixHQUFHLENBQUMsTUFKTjs7QUFESSIsInNvdXJjZXNDb250ZW50IjpbIm15Q29kZU1pcnJvciA9IDBcclxuc2VsMSA9IDBcclxuc2VsMiA9IDBcclxudGFibGUgPSAwXHJcbmNoYXB0ZXIgPSBcIlwiXHJcbmV4ZXJjaXNlID0gXCJcIlxyXG5cclxuZmlsbFNlbGVjdCA9IChzZWwsIGRpY3QpIC0+XHJcbiAgc2VsLmVtcHR5KClcclxuICBmb3Iga2V5IG9mIGRpY3QgXHJcbiAgICBzZWwuYXBwZW5kICQoXCI8b3B0aW9uPlwiKS5hdHRyKCd2YWx1ZScsIGtleSkudGV4dChrZXkpXHJcblxyXG5zZWwxY2hhbmdlID0gKHNlbCkgLT5cclxuICBjaGFwdGVyID0gc2VsLnZhbHVlXHJcbiAgZXhlcmNpc2UgPSBcIlwiXHJcbiAgZmlsbFNlbGVjdCBzZWwyLCBkYXRhW2NoYXB0ZXJdXHJcblxyXG5zZWwyY2hhbmdlID0gKHNlbCkgLT5cclxuICBleGVyY2lzZSA9IHNlbC52YWx1ZVxyXG4gIGIgPSBkYXRhW2NoYXB0ZXJdW2V4ZXJjaXNlXVtcImJcIl1cclxuICBteUNvZGVNaXJyb3Iuc2V0VmFsdWUoYilcclxuICBydW5BbGwoKVxyXG4gIG15Q29kZU1pcnJvci5mb2N1cygpIFxyXG5cclxudGFibGVDbGVhciA9IC0+XHJcbiAgJChcIiN0YWJlbGwgdHJcIikucmVtb3ZlKClcclxuXHJcbnRhYmxlQXBwZW5kID0gKGNhbGwsIGV4cGVjdGVkLCBhY3R1YWwpIC0+XHJcbiAgcm93ID0gdGFiZWxsLmluc2VydFJvdyAtMVxyXG4gIGNlbGwxID0gcm93Lmluc2VydENlbGwgLTFcclxuICBjZWxsMiA9IHJvdy5pbnNlcnRDZWxsIC0xXHJcbiAgY2VsbDMgPSByb3cuaW5zZXJ0Q2VsbCAtMVxyXG4gIGNlbGwxLmlubmVySFRNTCA9IGNhbGxcclxuICBjZWxsMi5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeSBleHBlY3RlZFxyXG4gIGNlbGwzLmlubmVySFRNTCA9IGlmIGFjdHVhbCA9PSB1bmRlZmluZWQgdGhlbiBcImVycm9yXCIgZWxzZSBKU09OLnN0cmluZ2lmeSBhY3R1YWxcclxuICB0cnkgXHJcbiAgICBjaGFpLmFzc2VydC5kZWVwRXF1YWwgZXhwZWN0ZWQsIGFjdHVhbFxyXG4gICAgcm93LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMDBGRjAwJ1xyXG4gIGNhdGNoICBcclxuICAgIHJvdy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCdcclxuXHJcbmNoYW5nZUxheW91dCA9IC0+XHJcbiAgdyA9ICQod2luZG93KS53aWR0aCgpXHJcbiAgJChcIi5Db2RlTWlycm9yXCIpLndpZHRoKHctMjE1KVxyXG5cclxucmVzaXplVGltZXI9MFxyXG4kKHdpbmRvdykucmVzaXplICgpIC0+XHJcbiAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVyKVxyXG4gIHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChjaGFuZ2VMYXlvdXQsIDEwKVxyXG5cclxuc2V0dXAgPSAtPlxyXG4gIHNlbDEgPSAkKCcjc2VsMScpXHJcbiAgc2VsMiA9ICQoJyNzZWwyJylcclxuICB0YWJsZSA9ICQoJyN0YWJlbGwnKVxyXG4gIGZpbGxTZWxlY3Qgc2VsMSwgZGF0YVxyXG5cclxud2luZG93Lm9ubG9hZCA9IC0+XHJcbiAgdGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBcImNvZGVcIlxyXG4gIG15Q29kZU1pcnJvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhIHRhLCBcclxuICAgIGxpbmVOdW1iZXJzOiB0cnVlXHJcbiAgICBtb2RlOiBcImNvZmZlZXNjcmlwdFwiXHJcbiAgICBrZXlNYXA6IFwic3VibGltZVwiXHJcbiAgICB0aGVtZTogXCJkcmFjdWxhXCJcclxuICAgIGF1dG9DbG9zZUJyYWNrZXRzOiB0cnVlXHJcbiAgICBsaW5lV2lzZUNvcHlDdXQ6IHRydWVcclxuICAgIHRhYlNpemU6IDJcclxuICAgIGluZGVudFdpdGhUYWJzOiB0cnVlXHJcbiAgXHJcbiAgJChcIi5Db2RlTWlycm9yXCIpLmNzcyAnZm9udC1zaXplJyxcIjE2cHRcIlxyXG4gIG15Q29kZU1pcnJvci5vbiBcImNoYW5nZVwiLCBydW5BbGxcclxuXHJcbiAgaGVscCA9IGNyZWF0ZUEoJ2h0dHBzOi8vZ2l0aHViLmNvbS9DaHJpc3Rlck5pbHNzb24vcDVBc3NlcnQvYmxvYi9tYXN0ZXIvUkVBRE1FLm1kJywgJ2hlbHAnLCAnX2JsYW5rJylcclxuICBoZWxwLnBvc2l0aW9uIDEwLDQzMFxyXG4gIFxyXG4gIGNoYXB0ZXIgPSAnQXNzZXJ0MSdcclxuICBzZWwxLnZhbChjaGFwdGVyKS5jaGFuZ2UoKVxyXG4gIGV4ZXJjaXNlID0gJ09wZXJhdG9yMSdcclxuICBzZWwyLnZhbChleGVyY2lzZSkuY2hhbmdlKClcclxuICBcclxuICBteUNvZGVNaXJyb3IuZm9jdXMoKVxyXG4gIHdpbmRvdy5yZXNpemVUbyAxMDAwLDc1MFxyXG4gIGNoYW5nZUxheW91dCgpXHJcblxyXG5ydW5BbGwgPSAtPlxyXG4gIGIgPSBteUNvZGVNaXJyb3IuZ2V0VmFsdWUoKVxyXG4gIGRhdGFbY2hhcHRlcl1bZXhlcmNpc2VdW1wiYlwiXSA9IGJcclxuICB0YWJsZUNsZWFyKClcclxuICBkaWN0ID0gZGF0YVtjaGFwdGVyXVtleGVyY2lzZV1bXCJjXCJdICAgIFxyXG4gIGZvciBjYWxsLGV4cGVjdGVkUmVzdWx0IG9mIGRpY3QgXHJcbiAgICBtc2cgPSBydW4gXCJyZXN1bHQgPSBcIiArIHRyYW5zcGlsZShiICsgXCJcXG5yZXR1cm4gXCIgKyBjYWxsKSAgICBcclxuICAgIHRhYmxlQXBwZW5kIGNhbGwsIGV4cGVjdGVkUmVzdWx0LCBpZiBtc2cgPT0gXCJcIiB0aGVuIHJlc3VsdCBlbHNlIG1zZy5zcGxpdCgnXFxuJylbMF1cclxuXHJcbnJ1biA9IChjb2RlKSAtPlxyXG4gIHRyeSBcclxuICAgIGV2YWwgY29kZVxyXG4gICAgcmV0dXJuIFwiXCJcclxuICBjYXRjaCBlcnIgXHJcbiAgICBlcnIuc3RhY2tcclxuICAiXX0=
//# sourceURL=C:\github\p5Assert\p5Assert.coffee